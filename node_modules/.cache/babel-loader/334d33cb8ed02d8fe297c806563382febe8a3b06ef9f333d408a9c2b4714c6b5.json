{"ast":null,"code":"var _jsxFileName = \"/Users/selenbilgic/Desktop/react-freash-canvas/src/CanvasComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CanvasComponent = () => {\n  _s();\n  const canvasRef = useRef(null);\n\n  // Variables for panning\n  const [panX, setPanX] = useState(0);\n  const [panY, setPanY] = useState(0);\n\n  // Variables for zooming\n  const [zoom, setZoom] = useState(1);\n  const zoomFactor = 1.01;\n  const minZoom = 0.6; // minimum zoom level\n  const maxZoom = 3; // maximum zoom level\n\n  // Variables for mouse panning\n  const [isPanning, setIsPanning] = useState(false);\n  const [startPanX, setStartPanX] = useState(0);\n  const [startPanY, setStartPanY] = useState(0);\n  const drawGrid = (ctx, canvas) => {\n    ctx.beginPath();\n    ctx.strokeStyle = \"lightgray\";\n    ctx.lineWidth = 2;\n\n    // calculate the number of lines to draw based on the zoom level\n    const numLines = Math.ceil(Math.max(canvas.width, canvas.height) / (5 * zoom));\n\n    // draw vertical lines\n    for (let i = -numLines; i <= numLines; i++) {\n      const x = panX % (15 * zoom) + i * 15 * zoom;\n      ctx.moveTo(x, -canvas.height);\n      ctx.lineTo(x, canvas.height);\n    }\n\n    // draw horizontal lines\n    for (let i = -numLines; i <= numLines; i++) {\n      const y = panY % (20 * zoom) + i * 15 * zoom;\n      ctx.moveTo(-canvas.width, y);\n      ctx.lineTo(canvas.width, y);\n    }\n    ctx.stroke();\n  };\n\n  // Draw function\n  const draw = useCallback((ctx, canvas) => {\n    // clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // save context state\n    ctx.save();\n\n    // translate and scale context\n    ctx.translate(panX, panY);\n    ctx.scale(zoom, zoom);\n\n    // draw grid\n    drawGrid(ctx, canvas);\n\n    // restore context state\n    ctx.restore();\n\n    // request next animation frame\n    requestAnimationFrame(() => draw(ctx, canvas));\n  }, [panX, panY, zoom]);\n\n  // useEffect to handle canvas drawing and events\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    let animationFrameId;\n    const render = () => {\n      draw(ctx, canvas);\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n    render();\n\n    // Add event listeners for panning and zooming\n    const handleMouseDown = event => {\n      setIsPanning(true);\n      setStartPanX(event.clientX - panX);\n      setStartPanY(event.clientY - panY);\n    };\n    const handleMouseMove = event => {\n      if (isPanning) {\n        // calculate new pan values\n        let newPanX = event.clientX - startPanX;\n        let newPanY = event.clientY - startPanY;\n\n        // define maximum and minimum allowed pan values\n        const maxPanX = 900;\n        const maxPanY = 500;\n        const minPanX = 100;\n        const minPanY = 100;\n\n        // check if new pan values exceed maximum or minimum allowed values\n        if (newPanX > maxPanX) {\n          newPanX = maxPanX;\n        } else if (newPanX < minPanX) {\n          newPanX = minPanX;\n        }\n        if (newPanY > maxPanY) {\n          newPanY = maxPanY;\n        } else if (newPanY < minPanY) {\n          newPanY = minPanY;\n        }\n\n        // update pan values\n        setPanX(newPanX);\n        setPanY(newPanY);\n      }\n    };\n    const handleWheel = event => {\n      event.preventDefault();\n\n      // update zoom based on scroll direction\n      let newZoom;\n      if (event.deltaY < 0) {\n        newZoom = zoom * zoomFactor;\n      } else {\n        newZoom = zoom / zoomFactor;\n      }\n\n      // check if new zoom value is within allowed range\n      if (newZoom < minZoom) {\n        newZoom = minZoom;\n      } else if (newZoom > maxZoom) {\n        newZoom = maxZoom;\n      }\n\n      // update zoom value\n      setZoom(newZoom);\n    };\n    const handleMouseUp = () => setIsPanning(false);\n    canvas.addEventListener('mousedown', handleMouseDown);\n    canvas.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n    canvas.addEventListener('wheel', handleWheel);\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n      canvas.removeEventListener('mousedown', handleMouseDown);\n      canvas.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n      canvas.removeEventListener('wheel', handleWheel);\n    };\n  }, [draw, panX, panY, startPanX, startPanY, isPanning, zoom, zoomFactor, minZoom, maxZoom]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 12\n  }, this);\n};\n_s(CanvasComponent, \"9IN/yuFVWicPPd4aAEp/bMH5FIw=\");\n_c = CanvasComponent;\nexport default CanvasComponent;\nvar _c;\n$RefreshReg$(_c, \"CanvasComponent\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","jsxDEV","_jsxDEV","CanvasComponent","_s","canvasRef","panX","setPanX","panY","setPanY","zoom","setZoom","zoomFactor","minZoom","maxZoom","isPanning","setIsPanning","startPanX","setStartPanX","startPanY","setStartPanY","drawGrid","ctx","canvas","beginPath","strokeStyle","lineWidth","numLines","Math","ceil","max","width","height","i","x","moveTo","lineTo","y","stroke","draw","clearRect","save","translate","scale","restore","requestAnimationFrame","current","getContext","window","innerWidth","innerHeight","animationFrameId","render","handleMouseDown","event","clientX","clientY","handleMouseMove","newPanX","newPanY","maxPanX","maxPanY","minPanX","minPanY","handleWheel","preventDefault","newZoom","deltaY","handleMouseUp","addEventListener","cancelAnimationFrame","removeEventListener","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/selenbilgic/Desktop/react-freash-canvas/src/CanvasComponent.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nconst CanvasComponent = () => {\n    \n    const canvasRef = useRef(null);\n\n    // Variables for panning\n    const [panX, setPanX] = useState(0);\n    const [panY, setPanY] = useState(0);\n\n    // Variables for zooming\n    const [zoom, setZoom] = useState(1);\n    const zoomFactor = 1.01;\n    const minZoom = 0.6; // minimum zoom level\n    const maxZoom = 3; // maximum zoom level\n\n    // Variables for mouse panning\n    const [isPanning, setIsPanning] = useState(false);\n    const [startPanX, setStartPanX] = useState(0);\n    const [startPanY, setStartPanY] = useState(0);\n\n    const drawGrid = (ctx, canvas) => {\n        ctx.beginPath();\n        ctx.strokeStyle = \"lightgray\";\n        ctx.lineWidth = 2;\n      \n        // calculate the number of lines to draw based on the zoom level\n        const numLines = Math.ceil(Math.max(canvas.width, canvas.height) / (5 * zoom));\n        \n        // draw vertical lines\n        for (let i = -numLines; i <= numLines; i++) {\n          const x = (panX % (15 * zoom)) + i * 15 * zoom;\n          ctx.moveTo(x, -canvas.height);\n          ctx.lineTo(x, canvas.height);\n        }\n        \n        // draw horizontal lines\n        for (let i = -numLines; i <= numLines; i++) {\n          const y = (panY % (20 * zoom)) + i * 15 * zoom;\n          ctx.moveTo(-canvas.width, y);\n          ctx.lineTo(canvas.width, y);\n        }\n      \n        ctx.stroke();\n      };\n      \n\n    // Draw function\n    const draw = useCallback((ctx, canvas) => {\n        // clear canvas\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        // save context state\n        ctx.save();\n\n        // translate and scale context\n        ctx.translate(panX, panY);\n        ctx.scale(zoom, zoom);\n\n        // draw grid\n        drawGrid(ctx, canvas);\n\n        // restore context state\n        ctx.restore();\n\n        // request next animation frame\n        requestAnimationFrame(() => draw(ctx, canvas));\n    }, [panX, panY, zoom]);\n\n    // useEffect to handle canvas drawing and events\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n        let animationFrameId;\n\n        const render = () => {\n            draw(ctx, canvas);\n            animationFrameId = window.requestAnimationFrame(render);\n        };\n        render();\n\n        // Add event listeners for panning and zooming\n        const handleMouseDown = (event) => {\n            setIsPanning(true);\n            setStartPanX(event.clientX - panX);\n            setStartPanY(event.clientY - panY);\n        };\n        const handleMouseMove = (event) => {\n          if (isPanning) {\n              // calculate new pan values\n              let newPanX = event.clientX - startPanX;\n              let newPanY = event.clientY - startPanY;\n      \n              // define maximum and minimum allowed pan values\n              const maxPanX = 900;\n              const maxPanY = 500;\n              const minPanX = 100;\n              const minPanY = 100;\n      \n              // check if new pan values exceed maximum or minimum allowed values\n              if (newPanX > maxPanX) {\n                  newPanX = maxPanX;\n              } else if (newPanX < minPanX) {\n                  newPanX = minPanX;\n              }\n              if (newPanY > maxPanY) {\n                  newPanY = maxPanY;\n              } else if (newPanY < minPanY) {\n                  newPanY = minPanY;\n              }\n      \n              // update pan values\n              setPanX(newPanX);\n              setPanY(newPanY);\n          }\n      };\n      \n      \n      const handleWheel = (event) => {\n        event.preventDefault();\n    \n        // update zoom based on scroll direction\n        let newZoom;\n        if (event.deltaY < 0) {\n            newZoom = zoom * zoomFactor;\n        } else {\n            newZoom = zoom / zoomFactor;\n        }\n    \n        // check if new zoom value is within allowed range\n        if (newZoom < minZoom) {\n            newZoom = minZoom;\n        } else if (newZoom > maxZoom) {\n            newZoom = maxZoom;\n        }\n    \n        // update zoom value\n        setZoom(newZoom);\n    };\n    \n          \n        const handleMouseUp = () => setIsPanning(false);\n\n\n        canvas.addEventListener('mousedown', handleMouseDown);\n        canvas.addEventListener('mousemove', handleMouseMove);\n        window.addEventListener('mouseup', handleMouseUp);\n        canvas.addEventListener('wheel', handleWheel);\n\n        return () => {\n\n            window.cancelAnimationFrame(animationFrameId);\n            canvas.removeEventListener('mousedown', handleMouseDown);\n            canvas.removeEventListener('mousemove', handleMouseMove);\n            window.removeEventListener('mouseup', handleMouseUp);\n            canvas.removeEventListener('wheel', handleWheel);\n        };\n    }, [draw, panX, panY, startPanX, startPanY, isPanning, zoom, zoomFactor, minZoom, maxZoom]);\n\n    return <canvas ref={canvasRef} />;\n};\nexport default CanvasComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}